<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard ‚Äî HabitFlow</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"/>
  <link rel="stylesheet" href="../css/style.css"/>
</head>
<body class="app-page">

  <nav class="sidebar" id="sidebar">
    <div class="sidebar-brand">
      <i class="bi bi-activity"></i>
      <span>HabitFlow</span>
    </div>
    <ul class="sidebar-nav">
      <li><a href="dashboard.html" class="active"><i class="bi bi-grid-1x2"></i><span>Dashboard</span></a></li>
      <li><a href="habits.html"><i class="bi bi-check2-circle"></i><span>My Habits</span></a></li>
      <li><a href="progress.html"><i class="bi bi-bar-chart-line"></i><span>Progress</span></a></li>
      <li><a href="profile.html"><i class="bi bi-person-circle"></i><span>Profile</span></a></li>
    </ul>
    <div class="sidebar-bottom">
      <a href="#" onclick="logout()" class="sidebar-logout"><i class="bi bi-box-arrow-left"></i><span>Logout</span></a>
    </div>
  </nav>

  <nav class="mobile-nav d-lg-none">
    <a href="dashboard.html" class="active"><i class="bi bi-grid-1x2"></i><span>Home</span></a>
    <a href="habits.html"><i class="bi bi-check2-circle"></i><span>Habits</span></a>
    <a href="progress.html"><i class="bi bi-bar-chart-line"></i><span>Progress</span></a>
    <a href="profile.html"><i class="bi bi-person-circle"></i><span>Profile</span></a>
  </nav>

  <main class="main-content">
    <header class="page-header">
      <div>
        <h2 class="page-title">Good <span id="greeting">morning</span> ‚òÄÔ∏è</h2>
        <p class="page-subtitle" id="welcomeUser">Loading your dashboard...</p>
      </div>
      <div class="d-flex align-items-center gap-3">
        <div class="date-badge">
          <i class="bi bi-calendar3 me-1"></i>
          <span id="todayDate"></span>
        </div>
        <button class="btn btn-primary-hf btn-sm" data-bs-toggle="modal" data-bs-target="#addHabitModal">
          <i class="bi bi-plus-lg me-1"></i>New Habit
        </button>
      </div>
    </header>

    <div class="row g-4 mb-4">
      <div class="col-6 col-xl-3">
        <div class="stat-card stat-purple">
          <div class="stat-icon"><i class="bi bi-lightning-charge-fill"></i></div>
          <div class="stat-value" id="streakCount">0</div>
          <div class="stat-label">Day Streak üî•</div>
        </div>
      </div>
      <div class="col-6 col-xl-3">
        <div class="stat-card stat-green">
          <div class="stat-icon"><i class="bi bi-check-circle-fill"></i></div>
          <div class="stat-value" id="completedToday">0/<span id="totalToday">0</span></div>
          <div class="stat-label">Done Today</div>
        </div>
      </div>
      <div class="col-6 col-xl-3">
        <div class="stat-card stat-orange">
          <div class="stat-icon"><i class="bi bi-trophy-fill"></i></div>
          <div class="stat-value" id="weekScore">0%</div>
          <div class="stat-label">This Week</div>
        </div>
      </div>
      <div class="col-6 col-xl-3">
        <div class="stat-card stat-blue">
          <div class="stat-icon"><i class="bi bi-stars"></i></div>
          <div class="stat-value" id="totalHabits">0</div>
          <div class="stat-label">Total Habits</div>
        </div>
      </div>
    </div>

    <div class="row g-4 mb-4">
      <div class="col-lg-7">
        <div class="card-hf h-100">
          <div class="card-hf-header">
            <h5><i class="bi bi-sun me-2 text-accent"></i>Today's Habits</h5>
            <span class="badge-hf" id="todayProgress">0%</span>
          </div>

          <div class="today-progress mb-3">
            <div class="progress-track">
              <div class="progress-fill" id="progressFill" style="width:0%"></div>
            </div>
          </div>

        
          <div id="todayHabitsList">
            <div class="empty-state" id="emptyToday">
              <i class="bi bi-clipboard-plus fs-1 mb-2"></i>
              <p>No habits yet.<br><a href="#" data-bs-toggle="modal" data-bs-target="#addHabitModal">Add your first habit ‚Üí</a></p>
            </div>
          </div>
        </div>
      </div>

      
      <div class="col-lg-5">
        <div class="card-hf h-100">
          <div class="card-hf-header">
            <h5><i class="bi bi-calendar-week me-2 text-accent"></i>This Week</h5>
          </div>
          <div id="weekGrid" class="week-grid"></div>
          <div class="week-legend mt-3">
            <span class="legend-dot dot-none"></span><span class="text-muted small me-3">None</span>
            <span class="legend-dot dot-partial"></span><span class="text-muted small me-3">Partial</span>
            <span class="legend-dot dot-full"></span><span class="text-muted small">Complete</span>
          </div>
        </div>
      </div>
    </div>

    
    <div class="row g-4">
      <div class="col-12">
        <div class="card-hf">
          <div class="card-hf-header">
            <h5><i class="bi bi-clock-history me-2 text-accent"></i>Recent Activity</h5>
            <a href="progress.html" class="text-accent small">View all ‚Üí</a>
          </div>
          <div id="recentActivity">
            <p class="text-muted text-center py-3">No activity yet. Start tracking your habits!</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  
  <div class="modal fade" id="addHabitModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content modal-hf">
        <div class="modal-header border-0">
          <h5 class="modal-title"><i class="bi bi-plus-circle me-2 text-accent"></i>New Habit</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form id="addHabitForm" onsubmit="addHabit(event)">
            <div class="mb-3">
              <label class="form-label fw-500">Habit Name *</label>
              <input type="text" class="form-control hf-input" id="habitName" placeholder="e.g. Morning run, Read 30 min..." required/>
            </div>
            <div class="mb-3">
              <label class="form-label fw-500">Description</label>
              <textarea class="form-control hf-input" id="habitDesc" rows="2" placeholder="Why is this habit important to you?"></textarea>
            </div>
            <div class="row g-3 mb-3">
              <div class="col-6">
                <label class="form-label fw-500">Category</label>
                <select class="form-select hf-input" id="habitCategory">
                  <option value="health">üí™ Health</option>
                  <option value="mind">üß† Mind</option>
                  <option value="work">üíº Work</option>
                  <option value="social">üë• Social</option>
                  <option value="creative">üé® Creative</option>
                  <option value="finance">üí∞ Finance</option>
                </select>
              </div>
              <div class="col-6">
                <label class="form-label fw-500">Frequency</label>
                <select class="form-select hf-input" id="habitFrequency">
                  <option value="daily">Daily</option>
                  <option value="weekly">Weekly</option>
                  <option value="weekdays">Weekdays</option>
                  <option value="weekends">Weekends</option>
                </select>
              </div>
            </div>
            <div class="mb-3">
              <label class="form-label fw-500">Color Tag</label>
              <div class="color-picker d-flex gap-2 flex-wrap">
                <input type="radio" name="habitColor" class="d-none" value="#6C63FF" id="c1" checked/>
                <label for="c1" class="color-dot" style="background:#6C63FF"></label>
                <input type="radio" name="habitColor" class="d-none" value="#2EC4B6" id="c2"/>
                <label for="c2" class="color-dot" style="background:#2EC4B6"></label>
                <input type="radio" name="habitColor" class="d-none" value="#FF6B6B" id="c3"/>
                <label for="c3" class="color-dot" style="background:#FF6B6B"></label>
                <input type="radio" name="habitColor" class="d-none" value="#FFB347" id="c4"/>
                <label for="c4" class="color-dot" style="background:#FFB347"></label>
                <input type="radio" name="habitColor" class="d-none" value="#56CCF2" id="c5"/>
                <label for="c5" class="color-dot" style="background:#56CCF2"></label>
                <input type="radio" name="habitColor" class="d-none" value="#A8E063" id="c6"/>
                <label for="c6" class="color-dot" style="background:#A8E063"></label>
              </div>
            </div>
            <div class="d-flex gap-2 mt-4">
              <button type="button" class="btn btn-secondary-hf flex-fill" data-bs-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary-hf flex-fill">
                <i class="bi bi-plus-lg me-1"></i>Add Habit
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/app.js"></script>
  <script src="../js/dashboard.js"></script>
</body>
</html>
